# source: http://blank-1.local/bitrix/tools/wjs_api_graphql.php
# timestamp: Mon Feb 24 2020 22:08:26 GMT+0300 (Moscow Standard Time)

"""
Язык, произвольное выражение на котором сможет выполнить (вычислить) сервер.
"""
enum EvaluationLanguage {
  """PHP"""
  PHP

  """SQL"""
  SQL
}

type EvaluationResult {
  output: String!
  result: String!
}

type Group {
  ID: ID!
  NAME: String
  USERS: [User]
}

input GroupFilterInput {
  ID: ID
  NAME: String
}

type Inspect {
  version: String
  evaluate(language: EvaluationLanguage!, source: String!): EvaluationResult
}

input ModuleEventSetTypeInput {
  main: [ModuleMainEventsType!]
  iblock: [ModuleIBlockEventsType!]
}

"""Поддерживаемые события модуля 'iblock'."""
enum ModuleIBlockEventsType {
  """OnBeforeIBlockElementUpdate"""
  OnBeforeIBlockElementUpdate
}

"""Поддерживаемые события главного модуля."""
enum ModuleMainEventsType {
  """OnPageStart"""
  OnPageStart
}

type Mutation {
  inspectEventsSubscribe(clientId: String!, events: ModuleEventSetTypeInput!): String
}

type Query {
  user(by: String = "ID", order: String = "ASC", filter: UserFilterInput = {}): User
  group(by: String = "ID", order: String = "ASC", filter: GroupFilterInput = {}): Group
  inspect: Inspect
}

type User {
  ID: ID!
  LOGIN: String!
  EMAIL: String!
  GROUPS: [Group]
}

input UserFilterInput {
  ID: ID
  NAME: String
}
